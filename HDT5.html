<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>hdt5</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="HDT5_files/libs/clipboard/clipboard.min.js"></script>
<script src="HDT5_files/libs/quarto-html/quarto.js"></script>
<script src="HDT5_files/libs/quarto-html/popper.min.js"></script>
<script src="HDT5_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="HDT5_files/libs/quarto-html/anchor.min.js"></script>
<link href="HDT5_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="HDT5_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="HDT5_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="HDT5_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="HDT5_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<div class="cell">

</div>
<div class="cell">

</div>
<section id="lectura-dataset" class="level1">
<h1>1. Lectura Dataset</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    datos <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"train.csv"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    datos <span class="ot">&lt;-</span> datos[ , <span class="sc">!</span>(<span class="fu">names</span>(datos) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Id"</span>,<span class="st">"YrSold"</span>,<span class="st">"MoSold"</span>,<span class="st">"GarageYrBlt"</span>,<span class="st">"MSSubClass"</span>,<span class="st">"YearBuilt"</span>))]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    Cuantitativas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"SalePrice"</span>, <span class="st">"LotFrontage"</span>, <span class="st">"LotArea"</span>, <span class="st">"OverallQual"</span>, <span class="st">"OverallCond"</span>, <span class="st">"MasVnrArea"</span>, <span class="st">"BsmtFinSF1"</span>, <span class="st">"BsmtFinSF2"</span>, <span class="st">"BsmtUnfSF"</span>, <span class="st">"TotalBsmtSF"</span>, <span class="st">"X1stFlrSF"</span>, <span class="st">"X2ndFlrSF"</span>, <span class="st">"LowQualFinSF"</span>, <span class="st">"GrLivArea"</span>, <span class="st">"BsmtFullBath"</span>, <span class="st">"BsmtHalfBath"</span>, <span class="st">"FullBath"</span>, <span class="st">"HalfBath"</span>, <span class="st">"BedroomAbvGr"</span>, <span class="st">"KitchenAbvGr"</span>, <span class="st">"TotRmsAbvGrd"</span>, <span class="st">"Fireplaces"</span>, <span class="st">"GarageCars"</span>, <span class="st">"GarageArea"</span>, <span class="st">"WoodDeckSF"</span>, <span class="st">"OpenPorchSF"</span>, <span class="st">"EnclosedPorch"</span>, <span class="st">"X3SsnPorch"</span>, <span class="st">"ScreenPorch"</span>, <span class="st">"PoolArea"</span>, <span class="st">"MiscVal"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    df_cuantitativas <span class="ot">&lt;-</span> datos[Cuantitativas]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>    datos<span class="sc">$</span>LotFrontage[<span class="fu">is.na</span>(datos<span class="sc">$</span>LotFrontage)] <span class="ot">&lt;-</span> <span class="fu">median</span>(datos<span class="sc">$</span>LotFrontage, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    datos<span class="sc">$</span>MasVnrArea[<span class="fu">is.na</span>(datos<span class="sc">$</span>MasVnrArea)] <span class="ot">&lt;-</span> <span class="fu">median</span>(datos<span class="sc">$</span>MasVnrArea, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    datos <span class="ot">&lt;-</span> datos[ , <span class="sc">!</span>(<span class="fu">names</span>(datos) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Alley"</span>, <span class="st">"PoolQC"</span>, <span class="st">"Fence"</span>, <span class="st">"MiscFeature"</span>,<span class="st">"FireplaceQu"</span>))]</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    df_cuantitativas <span class="ot">&lt;-</span> datos[Cuantitativas] <span class="co">#Tras los cambios de NaÂ´s</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    df_norm <span class="ot">&lt;-</span> <span class="fu">mutate_if</span>(datos, is.numeric, scale)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    df_cualitativas <span class="ot">&lt;-</span> df_norm[ , <span class="sc">!</span>(<span class="fu">names</span>(df_norm) <span class="sc">%in%</span> Cuantitativas)]</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(df_cualitativas)) {</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>         df_norm[,i] <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(df_norm[,i]), <span class="st">"Desconocido"</span>, df_norm[,i])</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    df_norm <span class="ot">&lt;-</span> df_norm <span class="sc">%&gt;%</span> <span class="fu">mutate_at</span>(<span class="fu">colnames</span>(df_cualitativas), <span class="cf">function</span>(x) <span class="fu">as.factor</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creacion-de-nueva-variable-classification" class="level1">
<h1>1.1 Creacion de nueva variable Classification</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>    salePrices <span class="ot">&lt;-</span> df_norm<span class="sc">$</span>SalePrice</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(df_norm<span class="sc">$</span>SalePrice, <span class="fl">0.33</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    q2 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(df_norm<span class="sc">$</span>SalePrice, <span class="fl">0.66</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    df_norm<span class="sc">$</span>Classification <span class="ot">&lt;-</span> <span class="fu">sapply</span>(df_norm<span class="sc">$</span>SalePrice, <span class="cf">function</span>(x) <span class="fu">ifelse</span>(x <span class="sc">&lt;</span> q1, <span class="st">"Economicas"</span>, <span class="fu">ifelse</span>(x <span class="sc">&lt;</span> q2, <span class="st">"Intermedias"</span>, <span class="st">"Caras"</span>)))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    df_norm<span class="sc">$</span>Classification <span class="ot">&lt;-</span> <span class="fu">factor</span>(df_norm<span class="sc">$</span>Classification)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dividir-el-dataset-en-train-y-test" class="level1">
<h1>1.2 Dividir el dataset en train y test</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    porcentaje<span class="ot">&lt;-</span><span class="fl">0.7</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    corte <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(df_norm),<span class="fu">nrow</span>(df_norm)<span class="sc">*</span>porcentaje)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    train<span class="ot">&lt;-</span>df_norm[corte,]</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    test<span class="ot">&lt;-</span>df_norm[<span class="sc">-</span>corte,]</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    test1 <span class="ot">&lt;-</span> test[ , <span class="sc">!</span>(<span class="fu">names</span>(test) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"SalePrice"</span>))]</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    test2 <span class="ot">&lt;-</span> test[ , <span class="sc">!</span>(<span class="fu">names</span>(test) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Classification"</span>))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para poder crear la nueva variable Classification, primero se obtuvieron los cuartiles de la variable SalePrice , y se crearon 3 categorias, las cuales son Economicas, Intermedias y Caras. Luego se creÃ³ una nueva variable Classification, la cual se llenÃ³ con la funciÃ³n sapply, la cual recorre cada valor de la variable SalePrice y dependiendo del valor de la variable SalePrice, se le asigna la categoria correspondiente. Por ultimo se convirtiÃ³ la variable Classification a factor.</p>
<hr>
</section>
<section id="creaciÃ³n-del-modelo-de-regresiÃ³n-usando-naive-bayes" class="level1">
<h1>2 CreaciÃ³n del modelo de regresiÃ³n usando Naive Bayes</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>    nb <span class="ot">&lt;-</span> <span class="fu">naiveBayes</span>(SalePrice <span class="sc">~</span> ., <span class="at">data =</span> train)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    nb_pred_r<span class="ot">&lt;-</span><span class="fu">predict</span>(nb, <span class="at">newdata =</span> test1)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    nb_pred_r<span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(nb_pred_r))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(test<span class="sc">$</span>SalePrice, <span class="at">col=</span><span class="st">"red"</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">points</span>(nb_pred_r, <span class="at">col=</span><span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="HDT5_files/figure-html/naive_bayes_regresion-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>    SSE <span class="ot">&lt;-</span> <span class="fu">sum</span>((test<span class="sc">$</span>SalePrice<span class="sc">-</span>nb_pred_r)<span class="sc">^</span><span class="dv">2</span>, <span class="at">na.rm =</span> T)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    TSS <span class="ot">&lt;-</span> <span class="fu">sum</span>((test<span class="sc">$</span>SalePrice<span class="sc">-</span><span class="fu">mean</span>(test<span class="sc">$</span>SalePrice))<span class="sc">^</span><span class="dv">2</span>, <span class="at">na.rm =</span> T)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    R2 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span>SSE<span class="sc">/</span>TSS</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>El R^2 del modelo es de 0.6990113</p>
</section>
<section id="creaciÃ³n-del-modelo-de-clasificaciÃ³n-usando-naive-bayes" class="level1">
<h1>3 CreaciÃ³n del modelo de clasificaciÃ³n usando Naive Bayes</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>    nb <span class="ot">&lt;-</span> <span class="fu">naiveBayes</span>(train<span class="sc">$</span>Classification <span class="sc">~</span> ., <span class="at">data =</span> train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="prediga-con-el-modelo-de-clasificaciÃ³n-usando-naive-bayes" class="level1">
<h1>4 Prediga con el modelo de clasificaciÃ³n usando Naive Bayes</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>    nb_pred_c<span class="ot">&lt;-</span><span class="fu">predict</span>(nb, <span class="at">newdata =</span> test2)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    cm<span class="ot">&lt;-</span>caret<span class="sc">::</span><span class="fu">confusionMatrix</span>(nb_pred_c,test<span class="sc">$</span>Classification)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    cm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

             Reference
Prediction    Caras Economicas Intermedias
  Caras         127          0          12
  Economicas      6        136          70
  Intermedias    19          4          65

Overall Statistics
                                          
               Accuracy : 0.7472          
                 95% CI : (0.7038, 0.7872)
    No Information Rate : 0.3462          
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
                                          
                  Kappa : 0.6222          
                                          
 Mcnemar's Test P-Value : 2.461e-14       

Statistics by Class:

                     Class: Caras Class: Economicas Class: Intermedias
Sensitivity                0.8355            0.9714             0.4422
Specificity                0.9582            0.7458             0.9212
Pos Pred Value             0.9137            0.6415             0.7386
Neg Pred Value             0.9167            0.9824             0.7664
Prevalence                 0.3462            0.3189             0.3349
Detection Rate             0.2893            0.3098             0.1481
Detection Prevalence       0.3166            0.4829             0.2005
Balanced Accuracy          0.8969            0.8586             0.6817</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    recall_score <span class="ot">&lt;-</span> <span class="fu">Recall</span>(test<span class="sc">$</span>Classification, nb_pred_c,<span class="at">positive =</span> <span class="fu">c</span>(<span class="st">"Caras"</span>,<span class="st">"Intermedias"</span>,<span class="st">"Economicas"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="analisis-de-los-resultado-del-modelo-de-regresion" class="level1">
<h1>5 Analisis de los resultado del modelo de regresion</h1>
<p>El modelo de regresiÃ³n no es muy bueno, ya que el R^2 es de 0.6990113 y un modelo se considera aceptable apartir de 0.75. A pesar de que no es aceptable tampoco es que sea un mal modelo puede predecir la mayoria de los datos. AdemÃ¡s si vemos el grÃ¡fico de los datos reales y los datos predichos podemos ver que la mayorÃ­a de los datos predichos se encuentran cerca de los datos reales. Unicamente se muestran algunos datos que se encuentran muy alejados de los datos reales, pero esto se puede deber a que los datos reales estan sobrevaludados.</p>
</section>
<section id="compare-los-resultados-de-los-modelos-de-regresiÃ³n-con-los-de-las-hojas-pasadas" class="level1">
<h1>6 Compare los resultados de los modelos de regresiÃ³n con los de las hojas pasadas</h1>
<p>Cabe destacar que ningÃºn modelo a llegado a la escala de 0.75, por lo que se puede decir que ninguno de los modelos es aceptable. Esto se puede deber a que los datos al ser precios de casas algunos puden estar sobrevaludados dificultando la predicciÃ³n. Pero de todos los modelos el este modelo fue el que peor lo hizo. Dentro de los los siguiente modelos: RegresiÃ³n lineal Multivariable, Arbol de regresiÃ³n , Regresion Random Forest y RegresiÃ³n con Naive Bayes el modelo con mejores resultados fue el de RegresiÃ³n Random Forest con un R^2 de 0.82.</p>
</section>
<section id="analisis-de-los-resultado-del-modelo-de-clasificacion" class="level1">
<h1>7 Analisis de los resultado del modelo de clasificacion</h1>
<p>EL modelo de clasificaciÃ³n es no sobresale entre los otros modelos desarrollados ya que presenta un Accuracy es de 0.8355263.</p>
</section>
<section id="el-modelo-de-clasificaciÃ³n-es-mejor-que-el-de-regresiÃ³n" class="level1">
<h1>8 El modelo de clasificaciÃ³n es mejor que el de regresiÃ³n?</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>    nb <span class="ot">&lt;-</span> <span class="fu">naiveBayes</span>(train<span class="sc">$</span>Classification <span class="sc">~</span> ., <span class="at">data =</span> train)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    train1 <span class="ot">&lt;-</span> train[ , <span class="sc">!</span>(<span class="fu">names</span>(train) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"SalePrice"</span>))]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    nb_pred_c<span class="ot">&lt;-</span><span class="fu">predict</span>(nb, <span class="at">newdata =</span> train1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in predict.naiveBayes(nb, newdata = train1): Type mismatch between
training and new data for variable 'SalePrice'. Did you use factors with
numeric labels for training, and numeric values for new data?</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>    cm1<span class="ot">&lt;-</span>caret<span class="sc">::</span><span class="fu">confusionMatrix</span>(nb_pred_c,train1<span class="sc">$</span>Classification)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    cm1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

             Reference
Prediction    Caras Economicas Intermedias
  Caras         285          0          54
  Economicas     15        325         172
  Intermedias    45          7         118

Overall Statistics
                                          
               Accuracy : 0.713           
                 95% CI : (0.6842, 0.7406)
    No Information Rate : 0.3379          
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
                                          
                  Kappa : 0.5708          
                                          
 Mcnemar's Test P-Value : &lt; 2.2e-16       

Statistics by Class:

                     Class: Caras Class: Economicas Class: Intermedias
Sensitivity                0.8261            0.9789             0.3430
Specificity                0.9201            0.7286             0.9232
Pos Pred Value             0.8407            0.6348             0.6941
Neg Pred Value             0.9120            0.9862             0.7344
Prevalence                 0.3379            0.3252             0.3369
Detection Rate             0.2791            0.3183             0.1156
Detection Prevalence       0.3320            0.5015             0.1665
Balanced Accuracy          0.8731            0.8538             0.6331</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>    cm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

             Reference
Prediction    Caras Economicas Intermedias
  Caras         127          0          12
  Economicas      6        136          70
  Intermedias    19          4          65

Overall Statistics
                                          
               Accuracy : 0.7472          
                 95% CI : (0.7038, 0.7872)
    No Information Rate : 0.3462          
    P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
                                          
                  Kappa : 0.6222          
                                          
 Mcnemar's Test P-Value : 2.461e-14       

Statistics by Class:

                     Class: Caras Class: Economicas Class: Intermedias
Sensitivity                0.8355            0.9714             0.4422
Specificity                0.9582            0.7458             0.9212
Pos Pred Value             0.9137            0.6415             0.7386
Neg Pred Value             0.9167            0.9824             0.7664
Prevalence                 0.3462            0.3189             0.3349
Detection Rate             0.2893            0.3098             0.1481
Detection Prevalence       0.3166            0.4829             0.2005
Balanced Accuracy          0.8969            0.8586             0.6817</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>